/* Checkout page styles for create_order */

/* Base theme alignment */
body.checkout-page {
  background-color: #ffffff;
  color: #212529;
}

/* Global background dim without affecting inner cards */
body.checkout-page { position: relative; }
body.checkout-page::before {
  content: "";
  position: fixed; inset: 0;
  background: rgba(0, 0, 0, 0.35);
  z-index: 0; pointer-events: none;
}
/* Lift the main content above the dim overlay */
.checkout-page .home-framed,
.checkout-page main,
.checkout-page .container { position: relative; z-index: 1; }

/* Avoid global card background; scope to these cards explicitly */
.card.checkout-order-summary,
.card.checkout-form-card { box-shadow: none; border-radius: 10px; }

/* Left form card: fantasy parchment panel */
.checkout-form-card {
  position: relative;
  border: 2px solid #4f463e;
  border-radius: 10px;
  /* 1) Base JPEG fallback (smaller on old devices) */
  background-image: url('/static/deps/images/card-body-bg.jpg');
  /* 2) Safari-compatible image-set (no type descriptors) */
  background-image: -webkit-image-set(
    url('/static/deps/images/card-body-bg.avif') 1x,
    url('/static/deps/images/card-body-bg.webp') 1x,
    url('/static/deps/images/card-body-bg.jpg') 1x
  );
  /* 3) Standard image-set (modern browsers) */
  background-image: image-set(
    url('/static/deps/images/card-body-bg.avif') type('image/avif') 1x,
    url('/static/deps/images/card-body-bg.webp') type('image/webp') 1x,
    url('/static/deps/images/card-body-bg.jpg') type('image/jpeg') 1x
  );
  background-position: center;
  background-repeat: no-repeat;
  background-size: 100% 100%;
  overflow: hidden;
}
.checkout-form-card::before {
  content: ""; position: absolute; inset: 0;
  background-color: rgba(28, 18, 3, 0.33); pointer-events: none; z-index: 0;
}
.checkout-form-card > .card-body { position: relative; z-index: 1; background: transparent !important; }
/* Golden typography inside the form card */
.checkout-form-card,
.checkout-form-card h5,
.checkout-form-card label,
.checkout-form-card .form-label,
.checkout-form-card .form-check-label,
.checkout-form-card .list-unstyled,
.checkout-form-card .activity-checkout,
.checkout-form-card .activity-checkout * { color: #dcc49a !important; }
/* Override for required stars */
.checkout-form-card .req-star,
.checkout-form-card label .req-star { color: #dc3545 !important; }
/* Inputs readable */
.checkout-form-card input,
.checkout-form-card select,
.checkout-form-card textarea { color: #212529 !important; background: rgba(247,243,231,0.88); }
.checkout-form-card .form-control,
.checkout-form-card .form-select { border-color: rgba(79,70,62,0.35); border-radius: .75rem; }

/* Softer focus state for inputs */
.checkout-form-card .form-control:focus,
.checkout-form-card .form-select:focus {
  border-color: #ad9550;
  box-shadow: 0 0 0 0.2rem rgba(173,149,80,0.25);
  background: rgba(247,243,231,0.92);
}

/* Right summary card: fantasy parchment panel */
.checkout-order-summary { position: relative; border: 2px solid #4f463e; border-radius: 10px; 
  /* 1) Base JPEG fallback */
  background-image: url('/static/deps/images/card-body-bg.jpg');
  /* 2) Safari-compatible image-set */
  background-image: -webkit-image-set(
    url('/static/deps/images/card-body-bg.avif') 1x,
    url('/static/deps/images/card-body-bg.webp') 1x,
    url('/static/deps/images/card-body-bg.jpg') 1x
  );
  /* 3) Standard image-set */
  background-image: image-set(
    url('/static/deps/images/card-body-bg.avif') type('image/avif') 1x,
    url('/static/deps/images/card-body-bg.webp') type('image/webp') 1x,
    url('/static/deps/images/card-body-bg.jpg') type('image/jpeg') 1x
  );
  background-position: center; background-repeat: no-repeat; background-size: 100% 100%;
  overflow: hidden; min-width: 450px; }
.card.checkout-order-summary { background-color: transparent !important; }
.checkout-order-summary .card-body { background: transparent !important; position: relative; z-index: 1; }
.checkout-order-summary::before { content: ""; position: absolute; inset: 0; background-color: rgba(28, 18, 3, 0.33); pointer-events: none; z-index: 0; }

/* Tables inside summary */
.checkout-order-summary table { background-color: transparent; color: #f4e6c2; border-color: rgba(244,230,194,0.3); }

/* Comment textarea placeholder style */
#order_comment::placeholder { color: rgba(33,37,41,0.55); font-style: italic; }

.checkout-order-summary .summary-title { background: transparent !important; }

/* Transparent tables + golden type */
.checkout-order-summary,
.checkout-order-summary .table,
.checkout-order-summary .table th,
.checkout-order-summary .table td,
.checkout-order-summary .table thead th,
.checkout-order-summary strong { color: #dcc49a !important; }
.checkout-order-summary a { color: #dcc49a; text-decoration-color: rgba(220,196,154,0.7); }

.checkout-order-summary .table,
.checkout-order-summary .table thead,
.checkout-order-summary .table tbody,
.checkout-order-summary .table tr,
.checkout-order-summary .table th,
.checkout-order-summary .table td { background-color: transparent !important; }
/* Override Bootstrap chain */
.checkout-order-summary .table > :not(caption) > * { background-color: transparent !important; }
.checkout-order-summary .table > :not(caption) > * > * { background-color: transparent !important; }
.checkout-order-summary .table-striped > tbody > tr:nth-of-type(odd) > * { background-color: transparent !important; }
.checkout-order-summary .table-hover > tbody > tr:hover > * { background-color: transparent !important; }
/* Table vars */
.checkout-order-summary .table { --bs-table-bg: transparent; --bs-table-striped-bg: transparent; --bs-table-hover-bg: transparent; }
/* Borders a bit more contrast */
.checkout-order-summary .table,
.checkout-order-summary .table th,
.checkout-order-summary .table td { border-color: rgba(79, 70, 62, 0.45); }
/* Subtle zebra for readability */
.checkout-order-summary .table tbody tr:nth-child(odd) td { background-color: rgba(0, 0, 0, 0.06) !important; }
.checkout-order-summary .table tbody tr:hover td { background-color: rgba(0, 0, 0, 0.08) !important; }

/* Thumbnail frames */
.checkout-order-summary td img {
  display: block; width: 65px; height: auto; padding: 2px;
  border: 2px solid #ad9550; border-radius: 10px;
  background: rgba(232,216,184,0.30);
  box-shadow: 0 2px 6px rgba(0,0,0,0.25), inset 0 0 0 1px rgba(58,47,31,0.10);
}

/* Qty controls */
.checkout-order-summary .qty-controls { display: inline-flex; align-items: center; }
.checkout-order-summary .qty-btn { color: #dcc49a; border: 1px solid rgba(79,70,62,0.5); }
.checkout-order-summary .qty-btn:hover { color: #fff; background: rgba(79,70,62,0.6); border-color: rgba(79,70,62,0.8); }
.checkout-order-summary .qty-value { min-width: 1.5rem; display: inline-block; text-align: center; }

/* Discount presentation */
.checkout-order-summary .unit-price .old-price { opacity: 0.85; }
.checkout-order-summary tr.table-total-discount td:last-child > strong { color: #29a36a; }
/* Right-align key summary rows */
/* Summary rows should be left-aligned (override template classes) */
.checkout-order-summary tr.table-total-discount td,
.checkout-order-summary tr.table-shipping-info td,
.checkout-order-summary tr.table-total td { text-align: left; }
/* Normalize vertical alignment, padding and typography so rows align evenly */
.checkout-order-summary tr.table-total-discount td,
.checkout-order-summary tr.table-shipping-info td,
.checkout-order-summary tr.table-total td {
  vertical-align: middle;
  padding-top: .6rem;
  padding-bottom: .6rem;
  font-size: 1.125rem; /* увеличенный размер шрифта для лучшей читаемости */
  line-height: 1.5rem;
  white-space: nowrap;
}

/* Remove row separators (Bootstrap sets border-bottom on table cells) */
.checkout-order-summary table.table tr.table-total-discount > td,
.checkout-order-summary table.table tr.table-shipping-info > td,
.checkout-order-summary table.table tr.table-total > td {
  border-bottom: 0;
}

/* Unify label styling across summary rows */
.checkout-order-summary tr.table-total-discount td:first-child strong,
.checkout-order-summary tr.table-shipping-info td:first-child strong,
.checkout-order-summary tr.table-total td:first-child strong { font-weight: 600; }

/* Увеличить размер суммы в правой колонке для ключевых строк */
.checkout-order-summary tr.table-total-discount td:last-child strong,
.checkout-order-summary tr.table-total td:last-child strong {
  font-size: 1.35rem;
}

/* Remove internal margins that could shift baselines */
.checkout-order-summary tr.table-total-discount td > *,
.checkout-order-summary tr.table-shipping-info td > *,
.checkout-order-summary tr.table-total td > * { margin: 0; }

/* Page font: match product description font ('PT Serif') */
.activity-checkout {
  font-family: 'PT Serif', serif;
}

/* Utilities previously in template */
.activity-checkout .checkout-item { padding-left: 0; border-left: none; position: relative; }
.activity-checkout .checkout-item:first-child { border-left: none; }
.activity-checkout .checkout-item .checkout-icon { position: absolute; top: -4px; left: -24px; }
.table-responsive { overflow-x: visible; }


/* === Order summary table column alignment === */
.checkout-order-summary table.table { table-layout: fixed; width: 100%; }
.checkout-order-summary th.col-product { width: 52%; }
.checkout-order-summary th.col-qty { width: 20%; text-align: center; }
.checkout-order-summary th.col-sum { width: 28%; text-align: right; }

/* Match body cells to header widths */
.checkout-order-summary tbody tr > td:nth-child(1) { width: 52%; white-space: normal; }
.checkout-order-summary tbody tr > td:nth-child(2) { width: 20%; white-space: nowrap; }
.checkout-order-summary tbody tr > td:nth-child(3) { width: 28%; white-space: nowrap; }

/* Allow wrapping in shipping value cell to prevent overflow */
.checkout-order-summary tr.table-shipping-info td:last-child {
  white-space: normal;
  word-break: normal; /* do not force breaks at arbitrary points */
}

/* Clamp shipping helper to max 2 lines */
.checkout-order-summary tr.table-shipping-info td:last-child span {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Ensure muted helper text uses same color as rest in summary */
/* Shipping helper text should be cream-colored like other text */
.checkout-order-summary tr.table-shipping-info td .text-muted {
  color: #dcc49a;
  opacity: 1;
}

/* Product cell visuals */
.checkout-order-summary .product-thumb { width: 56px; height: 56px; object-fit: cover; }
.checkout-order-summary .product-info .unit-price { font-size: 1.05rem; }

/* Slightly larger per-line sum for better readability */
.checkout-order-summary td.line-sum { font-size: 1.05rem; font-weight: 600; }

/* Remove underline from product titles inside summary */
.checkout-order-summary .rp-link { text-decoration: none; color: inherit; }
.checkout-order-summary .rp-link:hover { text-decoration: none; }

/* Quantity controls consistent centering */
.checkout-order-summary .qty-controls { display: inline-flex; align-items: center; justify-content: center; }
.checkout-order-summary .qty-controls .qty-btn { min-width: 28px; height: 28px; line-height: 1; padding: 0; }
.checkout-order-summary .qty-controls .qty-value { min-width: 24px; text-align: center; display: inline-block; }

/* Continue shopping link styling (link is outside .activity-checkout, so scope to body.checkout-page) */
body.checkout-page a.continue-shopping-link {
  display: inline-flex; align-items: center; gap: .35rem;
  font-size: 1.35rem; /* bigger */
  font-weight: 700; /* bold for emphasis */
  color: #dcc49a; /* cream, like other text */
  text-decoration-color: rgba(220,196,154,0.7);
}
body.checkout-page a.continue-shopping-link.text-muted { color: #dcc49a; }
body.checkout-page a.continue-shopping-link .mdi { color: inherit; font-size: 1.5rem; line-height: 1; }
body.checkout-page a.continue-shopping-link:hover { color: #f4e6c2; text-decoration: underline; }

/* Shipping note color ("за тарифами перевізника") */
.checkout-order-summary .shipping-note { color: #dcc49a; }

/* Compact spacing and alignment for 'Итог заказа' title */
.checkout-order-summary .summary-title {
  margin-bottom: .5rem;
  padding-top: .5rem;
  padding-bottom: .5rem;
  /* align left edge of title text with table start inside card body */
  padding-left: var(--bs-card-spacer-x, 1rem);
  padding-right: var(--bs-card-spacer-x, 1rem);
}
.checkout-order-summary .summary-title h5 {
  margin: 0;
  /* match size of 'Детали заказа' (Bootstrap h5) */
  font-size: 1.25rem;
  line-height: 1.3;
  font-weight: 400;
}

/* Checkout-only: neutralize Bootstrap padding on the main container to match home (which doesn't load Bootstrap) */

/* === Select2: make it visually identical to .form-control === */
.select2-container { width: 100% !important; }
.select2-container--default .select2-selection--single {
  height: calc(2.25rem + 2px);
  min-height: calc(2.25rem + 2px);
  background-color: #fff;
  border: 1px solid #ced4da;
  border-radius: .375rem; /* Bootstrap radius */
  display: flex; align-items: center;
}
.select2-container--default .select2-selection--single .select2-selection__rendered {
  color: #212529; line-height: 1.5;
  padding-left: .75rem; padding-right: 2rem; /* room for arrow */
}
.select2-container--default .select2-selection--single .select2-selection__arrow {
  height: 100%; right: .5rem;
}
.select2-dropdown { border: 1px solid #ced4da; border-radius: .375rem; }
.select2-results__option { padding: .375rem .75rem; }
.select2-container--default.select2-container--focus .select2-selection--single,
.select2-container--default .select2-selection--single:focus {
  outline: 0; border-color: #86b7fe; box-shadow: 0 0 0 .25rem rgba(13,110,253,.25);
}
/* invalid state */
.is-invalid + .select2 .select2-selection { border-color: #dc3545 !important; }

body.checkout-page .container.home-framed {
  padding-left: 0;
  padding-right: 0;
}

/* Checkout-only: make main content match header inner width */


/* Checkout-only: align MAIN content to header inner width without affecting the header block */
body.checkout-page main .container {
  box-sizing: border-box;
  max-width: 1200px;   /* match header inner width */
  margin-left: auto;
  margin-right: auto;
  padding-left: 15px;  /* same gutters as header */
  padding-right: 15px;
}

/* Normalize gutters so the two columns meet header edges cleanly */
body.checkout-page main .row { --bs-gutter-x: 30px; }

/* Ensure both cards occupy full column width within MAIN */
body.checkout-page main .checkout-form-card,
body.checkout-page main .checkout-order-summary {
  width: 100%;
  margin-left: 0;
  margin-right: 0;
}



/* Required star color */
.req-star { color: #dc3545 !important; margin-left: 2px; }


/* Ensure form input text is black on checkout page */
.checkout-page .form-control,
.checkout-page .form-select,
.checkout-page textarea { color: #000 !important; }

/* Placeholder color to neutral gray */
.checkout-page .form-control::placeholder,
.checkout-page textarea::placeholder { color: #6c757d !important; opacity: 1; }

/* Select2 displayed text */
.checkout-page .select2-container .select2-selection__rendered { color: #000 !important; }
.checkout-page .select2-container .select2-selection--single .select2-selection__placeholder { color: #6c757d !important; }

/* Single simple tint class for LEFT block (edit only the alpha to adjust intensity) */


/* Responsiveness */
@media (max-width: 576px) {
  .checkout-order-summary { min-width: auto; }
  .checkout-order-summary .card-body { padding: 0.75rem 0.75rem; }
  .checkout-order-summary h5 { font-size: 1.05rem; }
  .checkout-order-summary .table { font-size: 0.95rem; }
  .checkout-order-summary td img { width: 56px; }
  /* Ensure older iPhones/Safari fall back gracefully */
  .checkout-form-card,
  .checkout-order-summary {
    /* keep same cascade; older Safari will stick to PNG base */
    background-position: center;
    background-size: 100% 100%;
  }
  /* Mobile: do not clamp shipping helper; allow full wrap without ellipsis */
  .checkout-order-summary tr.table-shipping-info td:last-child span {
    display: inline;
    -webkit-line-clamp: unset;
    -webkit-box-orient: unset;
    overflow: visible;
    white-space: normal;         /* allow wrapping between words only */
    word-break: keep-all;        /* prevent mid-word breaks */
    overflow-wrap: normal;       /* no emergency breaks */
    -webkit-hyphens: manual;     /* avoid auto hyphenation */
    -ms-hyphens: manual;
    hyphens: manual;
    font-size: clamp(0.82rem, 2.8vw, 1rem); /* adaptive font size so it fits */
  }
}
@media (max-width: 400px) {
  .checkout-order-summary .table { font-size: 0.9rem; }
  .checkout-order-summary td img { width: 48px; }
}


body.checkout-page h1.tm-site-title { line-height: 1.4; }
body.checkout-page h6.tm-site-description { line-height: 1.4; font-weight: 400; }